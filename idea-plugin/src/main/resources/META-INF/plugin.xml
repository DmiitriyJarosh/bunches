<idea-plugin>
    <id>org.jetbrains.bunch.tool.idea.plugin</id>
    <name>Bunch Tool</name>

    <description><![CDATA[
    Support for bunch files in the project. <a href="https://github.com/JetBrains/bunches">Bunch Tool</a>
    ]]></description>

    <vendor url="http://www.jetbrains.com">JetBrains</vendor>

    <extensions defaultExtensionNs="com.intellij">
        <fileTypeFactory implementation="org.jetbrains.bunches.idea.highlighting.BunchFileTypeFactory"/>
        <lang.substitutor
                language="TEXT"
                implementationClass="org.jetbrains.bunches.idea.highlighting.BunchLanguageSubstitutor"/>
        <checkinHandlerFactory implementation="org.jetbrains.bunches.idea.vcs.BunchFileCheckInHandlerFactory"/>
        <toolWindow id="Bunch Tool" anchor="bottom"
                    factoryClass="org.jetbrains.bunches.idea.vcs.BunchToolWindowFactory"
                    secondary="false"
                    canCloseContents="true"/>
    </extensions>

    <project-components>
        <component>
            <implementation-class>org.jetbrains.bunches.idea.highlighting.BunchProjectComponent</implementation-class>
        </component>
    </project-components>

    <actions>
        <group id="org.jetbrains.bunches.idea.actions.BunchToolMenuGroup"
               class="org.jetbrains.bunches.idea.actions.BunchToolMenuGroup"
               text="Bunch Tool" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <action id="org.jetbrains.bunches.idea.actions.SwitchAction"
                    class="org.jetbrains.bunches.idea.actions.SwitchAction"
                    text="Switch">
            </action>
            <action id="org.jetbrains.bunches.idea.actions.CleanupAction"
                    class="org.jetbrains.bunches.idea.actions.CleanupAction"
                    text="Cleanup">
            </action>
            <action id="org.jetbrains.bunches.idea.actions.ReduceAction"
                    class="org.jetbrains.bunches.idea.actions.ReduceAction"
                    text="Reduce">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt E"/>
            </action>
            <action id="BunchCompareFilesActions" class="org.jetbrains.bunches.idea.actions.BunchCompareFilesAction"
                    text="BunchCompareFilesActions">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift D"/>
            </action>
            <action id="ApplyPatchToBunchFilesAction"
                    class="org.jetbrains.bunches.idea.actions.ApplyChangesAction"
                    text="Apply main changes to all">
                <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift P"/>
            </action>
        </group>
    </actions>
</idea-plugin>